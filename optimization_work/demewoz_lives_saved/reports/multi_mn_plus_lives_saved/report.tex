% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
]{article}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\hypersetup{
  pdftitle={Effective Coverage vs.~Lives Saved: A Comparison},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}
\urlstyle{same} % disable monospaced font for URLs
\usepackage[margin=1in]{geometry}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\newenvironment{Shaded}{}{}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{#1}}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{#1}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{#1}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{#1}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{#1}}}}
\usepackage{longtable,booktabs}
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering
\usepackage{multirow}
\usepackage{cleveref}

% Overwrite \begin{figure}[htbp] with \begin{figure}[H]
\usepackage{float}
\let\origfigure=\figure
\let\endorigfigure=\endfigure
\renewenvironment{figure}[1][]{%
    \origfigure[H]
}{%
    \endorigfigure
}

%% pandoc-tablenos: required package
\usepackage{caption}

%% pandoc-tablenos: environment to disable table caption prefixes
\makeatletter
\newcounter{tableno}
\newenvironment{tablenos:no-prefix-table-caption}{
    \caption@ifcompatibility{}{
    \let\oldthetable\thetable
    \let\oldtheHtable\theHtable
    \renewcommand{\thetable}{tableno:\thetableno}
    \renewcommand{\theHtable}{tableno:\thetableno}
    \stepcounter{tableno}
    \captionsetup{labelformat=empty}
    }
}{
    \caption@ifcompatibility{}{
    \captionsetup{labelformat=default}
    \let\thetable\oldthetable
    \let\theHtable\oldtheHtable
    \addtocounter{table}{-1}
    }
}
\makeatother


%% pandoc-fignos: environment to disable figure caption prefixes
\makeatletter
\newcounter{figno}
\newenvironment{fignos:no-prefix-figure-caption}{
  \caption@ifcompatibility{}{
    \let\oldthefigure\thefigure
    \let\oldtheHfigure\theHfigure
    \renewcommand{\thefigure}{figno:\thefigno}
    \renewcommand{\theHfigure}{figno:\thefigno}
    \stepcounter{figno}
    \captionsetup{labelformat=empty}
  }
}{
  \caption@ifcompatibility{}{
    \captionsetup{labelformat=default}
    \let\thefigure\oldthefigure
    \let\theHfigure\oldtheHfigure
    \addtocounter{figure}{-1}
  }
}
\makeatother


\title{Effective Coverage vs.~Lives Saved: A Comparison}
\author{}
\date{}

\begin{document}
\maketitle

In this document, we will find the optimal set of nutritional
interventions over space and time, first using each micronutrient's
effect on effective coverage separately, and then using all
interventions together to see if they yield different optimal results,
using a measure of the number of lives saved from each intervention.

\hypertarget{summary-of-results}{%
\subsection{Summary of Results}\label{summary-of-results}}

\begin{Shaded}
\begin{Highlighting}[numbers=left,,]
\ImportTok{import}\NormalTok{ import\_ipynb}
\ImportTok{import}\NormalTok{ os}
\ImportTok{import}\NormalTok{ geopandas }\ImportTok{as}\NormalTok{ gpd}
\NormalTok{os.chdir(}\StringTok{\textquotesingle{}/home/lordflaron/Documents/minimod\textquotesingle{}}\NormalTok{)}
\ImportTok{import}\NormalTok{ optimization\_work.demewoz\_lives\_saved.lives\_saved\_analysis }\ImportTok{as}\NormalTok{ lives\_saved}
\ImportTok{import}\NormalTok{ optimization\_work.demewoz\_lives\_saved.folate\_effective\_coverage\_analysis }\ImportTok{as}\NormalTok{ folate}
\ImportTok{import}\NormalTok{ optimization\_work.demewoz\_lives\_saved.zinc\_effective\_coverage\_analysis }\ImportTok{as}\NormalTok{ zinc}
\ImportTok{import}\NormalTok{ optimization\_work.demewoz\_lives\_saved.vas\_effective\_coverage\_analysis }\ImportTok{as}\NormalTok{ vas}
\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}

\CommentTok{\# First only get the optimal values}
\NormalTok{lives\_saved\_opt }\OperatorTok{=}\NormalTok{ lives\_saved.models[}\StringTok{\textquotesingle{}lives\_saved\textquotesingle{}}\NormalTok{][}\VariableTok{None}\NormalTok{].opt\_df.loc[}\KeywordTok{lambda}\NormalTok{ df: df[}\StringTok{\textquotesingle{}opt\_vals\textquotesingle{}}\NormalTok{]}\OperatorTok{\textgreater{}}\DecValTok{0}\NormalTok{].groupby([}\StringTok{\textquotesingle{}region\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}time\textquotesingle{}}\NormalTok{]).}\BuiltInTok{sum}\NormalTok{()[[}\StringTok{\textquotesingle{}cumulative\_benefits\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}cumulative\_costs\textquotesingle{}}\NormalTok{]].assign(bau\_cost\_per\_ben }\OperatorTok{=}\NormalTok{  lives\_saved.models[}\StringTok{\textquotesingle{}lives\_saved\textquotesingle{}}\NormalTok{][}\VariableTok{None}\NormalTok{].cost\_per\_benefit}\OperatorTok{/}\DecValTok{3}\NormalTok{)}
\NormalTok{lives\_saved\_high\_opt }\OperatorTok{=}\NormalTok{ lives\_saved.models[}\StringTok{\textquotesingle{}lives\_saved\_high\textquotesingle{}}\NormalTok{][}\VariableTok{None}\NormalTok{].opt\_df.loc[}\KeywordTok{lambda}\NormalTok{ df: df[}\StringTok{\textquotesingle{}opt\_vals\textquotesingle{}}\NormalTok{]}\OperatorTok{\textgreater{}}\DecValTok{0}\NormalTok{].groupby([}\StringTok{\textquotesingle{}region\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}time\textquotesingle{}}\NormalTok{]).}\BuiltInTok{sum}\NormalTok{()[[}\StringTok{\textquotesingle{}cumulative\_benefits\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}cumulative\_costs\textquotesingle{}}\NormalTok{]].assign(bau\_cost\_per\_ben }\OperatorTok{=}\NormalTok{  lives\_saved.models[}\StringTok{\textquotesingle{}lives\_saved\_high\textquotesingle{}}\NormalTok{][}\VariableTok{None}\NormalTok{].cost\_per\_benefit}\OperatorTok{/}\DecValTok{3}\NormalTok{)}
\NormalTok{zinc\_opt }\OperatorTok{=}\NormalTok{ zinc.models[}\VariableTok{None}\NormalTok{].opt\_df.loc[}\KeywordTok{lambda}\NormalTok{ df: df[}\StringTok{\textquotesingle{}opt\_vals\textquotesingle{}}\NormalTok{]}\OperatorTok{\textgreater{}}\DecValTok{0}\NormalTok{].groupby([}\StringTok{\textquotesingle{}region\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}time\textquotesingle{}}\NormalTok{]).}\BuiltInTok{sum}\NormalTok{()[[}\StringTok{\textquotesingle{}cumulative\_benefits\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}cumulative\_costs\textquotesingle{}}\NormalTok{]].assign(bau\_cost\_per\_ben }\OperatorTok{=}\NormalTok{  zinc.models[}\VariableTok{None}\NormalTok{].cost\_per\_benefit}\OperatorTok{/}\DecValTok{3}\NormalTok{)}
\NormalTok{vas\_opt }\OperatorTok{=}\NormalTok{ vas.models[}\VariableTok{None}\NormalTok{].opt\_df.loc[}\KeywordTok{lambda}\NormalTok{ df: df[}\StringTok{\textquotesingle{}opt\_vals\textquotesingle{}}\NormalTok{]}\OperatorTok{\textgreater{}}\DecValTok{0}\NormalTok{].groupby([}\StringTok{\textquotesingle{}region\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}time\textquotesingle{}}\NormalTok{]).}\BuiltInTok{sum}\NormalTok{()[[}\StringTok{\textquotesingle{}cumulative\_benefits\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}cumulative\_costs\textquotesingle{}}\NormalTok{]].assign(bau\_cost\_per\_ben }\OperatorTok{=}\NormalTok{  vas.models[}\VariableTok{None}\NormalTok{].cost\_per\_benefit}\OperatorTok{/}\DecValTok{3}\NormalTok{)}
\NormalTok{folate\_opt }\OperatorTok{=}\NormalTok{ folate.models[}\VariableTok{None}\NormalTok{].opt\_df.loc[}\KeywordTok{lambda}\NormalTok{ df: df[}\StringTok{\textquotesingle{}opt\_vals\textquotesingle{}}\NormalTok{]}\OperatorTok{\textgreater{}}\DecValTok{0}\NormalTok{].groupby([}\StringTok{\textquotesingle{}region\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}time\textquotesingle{}}\NormalTok{]).}\BuiltInTok{sum}\NormalTok{()[[}\StringTok{\textquotesingle{}cumulative\_benefits\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}cumulative\_costs\textquotesingle{}}\NormalTok{]].assign(bau\_cost\_per\_ben }\OperatorTok{=}\NormalTok{  folate.models[}\VariableTok{None}\NormalTok{].cost\_per\_benefit}\OperatorTok{/}\DecValTok{3}\NormalTok{)}

\CommentTok{\# Get names of optimal interventions}
\NormalTok{lives\_saved\_name }\OperatorTok{=}\NormalTok{ lives\_saved.models[}\StringTok{\textquotesingle{}lives\_saved\textquotesingle{}}\NormalTok{][}\VariableTok{None}\NormalTok{].optimal\_interventions}
\NormalTok{lives\_saved\_high\_name }\OperatorTok{=}\NormalTok{ lives\_saved.models[}\StringTok{\textquotesingle{}lives\_saved\_high\textquotesingle{}}\NormalTok{][}\VariableTok{None}\NormalTok{].optimal\_interventions}
\NormalTok{zinc\_name }\OperatorTok{=}\NormalTok{ zinc.models[}\VariableTok{None}\NormalTok{].optimal\_interventions}
\NormalTok{vas\_name }\OperatorTok{=}\NormalTok{ vas.models[}\VariableTok{None}\NormalTok{].optimal\_interventions}
\NormalTok{folate\_name }\OperatorTok{=}\NormalTok{ folate.models[}\VariableTok{None}\NormalTok{].optimal\_interventions}

\CommentTok{\# Get names of bau}
\NormalTok{lives\_saved\_bau }\OperatorTok{=}\NormalTok{ lives\_saved.models[}\StringTok{\textquotesingle{}lives\_saved\textquotesingle{}}\NormalTok{][}\VariableTok{None}\NormalTok{].bau\_df.index.get\_level\_values(level}\OperatorTok{=}\StringTok{\textquotesingle{}intervention\textquotesingle{}}\NormalTok{).unique().tolist()}
\NormalTok{lives\_saved\_high\_bau }\OperatorTok{=}\NormalTok{ lives\_saved.models[}\StringTok{\textquotesingle{}lives\_saved\_high\textquotesingle{}}\NormalTok{][}\VariableTok{None}\NormalTok{].bau\_df.index.get\_level\_values(level}\OperatorTok{=}\StringTok{\textquotesingle{}intervention\textquotesingle{}}\NormalTok{).unique().tolist()}
\NormalTok{zinc\_bau }\OperatorTok{=}\NormalTok{ zinc.models[}\VariableTok{None}\NormalTok{].bau\_df.index.get\_level\_values(level}\OperatorTok{=}\StringTok{\textquotesingle{}intervention\textquotesingle{}}\NormalTok{).unique().tolist()}
\NormalTok{vas\_bau }\OperatorTok{=}\NormalTok{ vas.models[}\VariableTok{None}\NormalTok{].bau\_df.index.get\_level\_values(level}\OperatorTok{=}\StringTok{\textquotesingle{}intervention\textquotesingle{}}\NormalTok{).unique().tolist()}
\NormalTok{folate\_bau }\OperatorTok{=}\NormalTok{ folate.models[}\VariableTok{None}\NormalTok{].bau\_df.index.get\_level\_values(level}\OperatorTok{=}\StringTok{\textquotesingle{}intervention\textquotesingle{}}\NormalTok{).unique().tolist()}

\NormalTok{opt\_dict }\OperatorTok{=}\NormalTok{ \{}\StringTok{\textquotesingle{}Zinc}\CharTok{\textbackslash{}n}\StringTok{(Children Eff. Cov.)\textquotesingle{}}\NormalTok{ : zinc\_opt,}
\StringTok{\textquotesingle{}VA}\CharTok{\textbackslash{}n}\StringTok{(Children Eff. Cov.)\textquotesingle{}}\NormalTok{ : vas\_opt,}
\StringTok{\textquotesingle{}Folic Acid}\CharTok{\textbackslash{}n}\StringTok{(WRA Eff. Cov.)\textquotesingle{}}\NormalTok{ : folate\_opt,}
\StringTok{\textquotesingle{}All (Lives Saved)\textquotesingle{}}\NormalTok{ : lives\_saved\_opt,}
\StringTok{\textquotesingle{}All (Lives Saved, Alt.)\textquotesingle{}}\NormalTok{ : lives\_saved\_high\_opt\}}

\NormalTok{df\_all }\OperatorTok{=}\NormalTok{ pd.concat(opt\_dict.values(), axis}\OperatorTok{=}\DecValTok{1}\NormalTok{)}

\NormalTok{df\_all.columns }\OperatorTok{=}\NormalTok{ pd.MultiIndex.from\_product([opt\_dict.keys(), [}\StringTok{\textquotesingle{}CB\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}CC\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}BAU* Cost per Benefit\textquotesingle{}}\NormalTok{]])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
importing Jupyter notebook from /home/lordflaron/Documents/minimod/optimization_work/demewoz_lives_saved/lives_saved_analysis.ipynb
.pipe(observation_adjustment,
int1 = "cube",
int2 = 0,
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "cubezcube",
int2 = 0,
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "maxoilcube",
int2 = "maxoil",
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "oilcube",
int2 = "oil",
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "oilcubevas",
int2 = "oilvas",
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "maxoilcubevas",
int2 = "maxoilvas",
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "cubevas",
int2 = "vas",
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "cubeclinic",
int2 = "clinic",
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "maxoilcubeclinic",
int2 = "maxoilclinic",
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "oilcubeclinic",
int2 = "oilclinic",
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "cubezflour",
int2 = "zflour",
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "maxoilcubezflour",
int2 = "maxoilzflour",
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "oilcubezflour",
int2 = "oilzflour",
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "oilcubevaszflour",
int2 = "oilvaszflour",
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "cubevaszflour",
int2 = "vaszflour",
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "maxoilcubevaszflour",
int2 = "maxoilvaszflour",
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "oilcubecliniczflour",
int2 = "oilcliniczflour",
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "maxoilcubecliniczflour",
int2 = "maxoilcliniczflour",
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "cubezflourzcube",
int2 = "zflour",
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "maxoilcubezflourzcube",
int2 = "maxoilzflour",
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "oilcubezflourzcube",
int2 = "oilzflour",
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "oilcubevaszflourzcube",
int2 = "oilvaszflour",
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "oilcubecliniczflourzcube",
int2 = "oilcliniczflour",
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "maxoilcubecliniczflourzcube",
int2 = "maxoilcliniczflour",
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "zcube",
int2 = 0,
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "zflourzcube",
int2 = "zflour",
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "oilvaszflourzcube",
int2 = "oilvaszflour",
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "maxoilcubezflourzcube",
int2 = "maxoilzflour",
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "oilzflourzcube",
int2 = "oilzflour",
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "oilzflourfcubefflour",
int2 = "oilzflourfflour",
time_to_replace = [1,2,3])
.pipe(observation_adjustment,
int1 = "maxoil",
int2 = "oil",
time_to_replace = [1,2])
.pipe(observation_adjustment,
int1 = "maxoilcube",
int2 = "oilcube",
time_to_replace = [1,2])
.pipe(observation_adjustment,
int1 = "maxoilvas",
int2 = "oilvas",
time_to_replace = [1,2])
.pipe(observation_adjustment,
int1 = "maxoilcubevas",
int2 = "oilcubevas",
time_to_replace = [1,2])
.pipe(observation_adjustment,
int1 = "maxoilclinic",
int2 = "oilclinic",
time_to_replace = [1,2])
.pipe(observation_adjustment,
int1 = "maxoilcubeclinic",
int2 = "oilcubeclinic",
time_to_replace = [1,2])
.pipe(observation_adjustment,
int1 = "maxoilzflour",
int2 = "oilzflour",
time_to_replace = [1,2])
.pipe(observation_adjustment,
int1 = "maxoilcubezflour",
int2 = "oilcubezflour",
time_to_replace = [1,2])
.pipe(observation_adjustment,
int1 = "maxoilvaszflour",
int2 = "oilvaszflour",
time_to_replace = [1,2])
.pipe(observation_adjustment,
int1 = "maxoilcliniczflour",
int2 = "oilcliniczflour",
time_to_replace = [1,2])
.pipe(observation_adjustment,
int1 = "maxoilcubevaszflour",
int2 = "oilcubevaszflour",
time_to_replace = [1,2])
.pipe(observation_adjustment,
int1 = "maxoilcubecliniczflour",
int2 = "oilcubecliniczflour",
time_to_replace = [1,2])
.pipe(observation_adjustment,
int1 = "maxoilzflourzcube",
int2 = "oilzflourzcube",
time_to_replace = [1,2])
.pipe(observation_adjustment,
int1 = "maxoilcubezflourzcube",
int2 = "oilcubezflourzcube",
time_to_replace = [1,2])
.pipe(observation_adjustment,
int1 = "maxoilvaszflourzcube",
int2 = "oilvaszflourzcube",
time_to_replace = [1,2])
.pipe(observation_adjustment,
int1 = "maxoilcliniczflourzcube",
int2 = "oilcliniczflourzcube",
time_to_replace = [1,2])
.pipe(observation_adjustment,
int1 = "maxoilcubevaszflourzcube",
int2 = "oilcubevaszflourzcube",
time_to_replace = [1,2])
.pipe(observation_adjustment,
int1 = "maxoilcubecliniczflourzcube",
int2 = "oilcubecliniczflourzcube",
time_to_replace = [1,2])
.pipe(observation_adjustment,
int1 = "zflourfflour33",
int2 = 0,
time_to_replace = slice(None))
.pipe(observation_adjustment,
int1 = "fflour33",
int2 = 0,
time_to_replace = slice(None))
Changed cube to 0
Changed cubezcube to 0
Changed maxoilcube to maxoil
Changed oilcube to oil
Changed oilcubevas to oilvas
Changed maxoilcubevas to maxoilvas
Changed cubevas to vas
Changed cubeclinic to clinic
Changed maxoilcubeclinic to maxoilclinic
Changed oilcubeclinic to oilclinic
Changed cubezflour to zflour
Changed maxoilcubezflour to maxoilzflour
Changed oilcubezflour to oilzflour
Changed oilcubevaszflour to oilvaszflour
Changed cubevaszflour to vaszflour
Changed maxoilcubevaszflour to maxoilvaszflour
Changed oilcubecliniczflour to oilcliniczflour
Changed maxoilcubecliniczflour to maxoilcliniczflour
Changed cubezflourzcube to zflour
Changed maxoilcubezflourzcube to maxoilzflour
Changed oilcubezflourzcube to oilzflour
Changed oilcubevaszflourzcube to oilvaszflour
Changed oilcubecliniczflourzcube to oilcliniczflour
Changed maxoilcubecliniczflourzcube to maxoilcliniczflour
Changed zcube to 0
Changed zflourzcube to zflour
Changed oilvaszflourzcube to oilvaszflour
Changed maxoilcubezflourzcube to maxoilzflour
Changed oilzflourzcube to oilzflour
Changed oilzflourfcubefflour to oilzflourfflour
Changed maxoil to oil
Changed maxoilcube to oilcube
Changed maxoilvas to oilvas
Changed maxoilcubevas to oilcubevas
Changed maxoilclinic to oilclinic
Changed maxoilcubeclinic to oilcubeclinic
Changed maxoilzflour to oilzflour
Changed maxoilcubezflour to oilcubezflour
Changed maxoilvaszflour to oilvaszflour
Changed maxoilcliniczflour to oilcliniczflour
Changed maxoilcubevaszflour to oilcubevaszflour
Changed maxoilcubecliniczflour to oilcubecliniczflour
Changed maxoilzflourzcube to oilzflourzcube
Changed maxoilcubezflourzcube to oilcubezflourzcube
Changed maxoilvaszflourzcube to oilvaszflourzcube
Changed maxoilcliniczflourzcube to oilcliniczflourzcube
Changed maxoilcubevaszflourzcube to oilcubevaszflourzcube
Changed maxoilcubecliniczflourzcube to oilcubecliniczflourzcube
Changed zflourfflour33 to 0
Changed fflour33 to 0
Changed cube to 0
Changed cubezcube to 0
Changed maxoilcube to maxoil
Changed oilcube to oil
Changed oilcubevas to oilvas
Changed maxoilcubevas to maxoilvas
Changed cubevas to vas
Changed cubeclinic to clinic
Changed maxoilcubeclinic to maxoilclinic
Changed oilcubeclinic to oilclinic
Changed cubezflour to zflour
Changed maxoilcubezflour to maxoilzflour
Changed oilcubezflour to oilzflour
Changed oilcubevaszflour to oilvaszflour
Changed cubevaszflour to vaszflour
Changed maxoilcubevaszflour to maxoilvaszflour
Changed oilcubecliniczflour to oilcliniczflour
Changed maxoilcubecliniczflour to maxoilcliniczflour
Changed cubezflourzcube to zflour
Changed maxoilcubezflourzcube to maxoilzflour
Changed oilcubezflourzcube to oilzflour
Changed oilcubevaszflourzcube to oilvaszflour
Changed oilcubecliniczflourzcube to oilcliniczflour
Changed maxoilcubecliniczflourzcube to maxoilcliniczflour
Changed zcube to 0
Changed zflourzcube to zflour
Changed oilvaszflourzcube to oilvaszflour
Changed maxoilcubezflourzcube to maxoilzflour
Changed oilzflourzcube to oilzflour
Changed oilzflourfcubefflour to oilzflourfflour
Changed maxoil to oil
Changed maxoilcube to oilcube
Changed maxoilvas to oilvas
Changed maxoilcubevas to oilcubevas
Changed maxoilclinic to oilclinic
Changed maxoilcubeclinic to oilcubeclinic
Changed maxoilzflour to oilzflour
Changed maxoilcubezflour to oilcubezflour
Changed maxoilvaszflour to oilvaszflour
Changed maxoilcliniczflour to oilcliniczflour
Changed maxoilcubevaszflour to oilcubevaszflour
Changed maxoilcubecliniczflour to oilcubecliniczflour
Changed maxoilzflourzcube to oilzflourzcube
Changed maxoilcubezflourzcube to oilcubezflourzcube
Changed maxoilvaszflourzcube to oilvaszflourzcube
Changed maxoilcliniczflourzcube to oilcliniczflourzcube
Changed maxoilcubevaszflourzcube to oilcubevaszflourzcube
Changed maxoilcubecliniczflourzcube to oilcubecliniczflourzcube
Changed zflourfflour33 to 0
Changed fflour33 to 0
Changed cubezflourzcubefcubefflour to zflourfflour
Changed cubezflourfcubefflour to zflourfflour
Changed oilzflourzcubefcubefflour to oilzflourfflour
Changed fcube to 0
Changed fcube to 0
Changed oilfcube to oil
Changed oilcubeclinicfcube to oilclinic
Changed maxoilzflourfcubefflour to maxoilzflourfflour
Changed maxoilcliniczflourfcubefflour to maxoilcliniczflourfflour
Changed maxoilzflourfcubefflour to oilzflourfcubefflour
Changed maxoilcliniczflourfcubefflour to oilcliniczflourfcubefflour
Running lives_saved with None
[Note]: Processing Data...
[Note]: Creating Base Model with constraints

                MiniMod Nutrition Intervention Tool
                Optimization Method: MIN
                Version: 0.0.6dev
                Solver: CBC,
                Show Output: True
                
                
[Note]: Optimizing...
[Note]: Optimal Solution Found
Running lives_saved_high with None
[Note]: Processing Data...
[Note]: Creating Base Model with constraints

                MiniMod Nutrition Intervention Tool
                Optimization Method: MIN
                Version: 0.0.6dev
                Solver: CBC,
                Show Output: True
                
                
[Note]: Optimizing...
[Note]: Optimal Solution Found
+----------------------------+----------------------------+
| MiniMod Solver Results     |                            |
| Method:                    | MIN                        |
| Solver:                    | CBC                        |
| Optimization Status:       | OptimizationStatus.OPTIMAL |
| Number of Solutions Found: | 1                          |
+----------------------------+----------------------------+
+-----------------------------+--------+
| No. of Variables:           |   6750 |
| No. of Integer Variables:   |   6750 |
| No. of Constraints          |   1159 |
| No. of Non-zeros in Constr. | 231504 |
+-----------------------------+--------+
Interventions Chosen:
+-------------------+-----------------+
| Minimum Benefit   | 22019.1         |
| Objective Bounds  |     1.15113e+07 |
| Total Cost        |     1.15113e+07 |
| Total Lives Saved | 23220.5         |
+-------------------+-----------------+
+------------------+--------+
| Cost per Benefit | 495.74 |
+------------------+--------+
+-----------------------------------+--+
| Total Cost and Benefits over Time |  |
+-----------------------------------+--+
|   time |   opt_vals |   opt_benefit |        opt_costs |
|-------:|-----------:|--------------:|-----------------:|
|      1 |          3 |          2290 | 939944           |
|      2 |          3 |          2321 | 796726           |
|      3 |          3 |          2351 |      1.17346e+06 |
|      4 |          3 |          2696 |      1.13025e+06 |
|      5 |          3 |          2732 |      1.23289e+06 |
|      6 |          3 |          2770 |      1.22924e+06 |
|      7 |          3 |          2807 |      1.18669e+06 |
|      8 |          3 |          2844 |      1.20595e+06 |
|      9 |          3 |          2884 |      1.28702e+06 |
|     10 |          3 |          2919 |      1.32918e+06 |

Optimal Interventions

+------------------------------------+-----+-----+-----+-----+-----+-----+-----+-----+-----+------+
|                                    |   1 |   2 |   3 |   4 |   5 |   6 |   7 |   8 |   9 |   10 |
|------------------------------------+-----+-----+-----+-----+-----+-----+-----+-----+-----+------|
| ('oilzflourfcubefflour', 'Cities') |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |    1 |
| ('oilzflourfcubefflour', 'North')  |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |    1 |
| ('oilzflourfcubefflour', 'South')  |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |    1 |
+------------------------------------+-----+-----+-----+-----+-----+-----+-----+-----+-----+------+
importing Jupyter notebook from /home/lordflaron/Documents/minimod/optimization_work/demewoz_lives_saved/folate_effective_coverage_analysis.ipynb
Changed fcube to 0
Changed fflour to fflour33
[Note]: Processing Data...
[Note]: Creating Base Model with constraints

                MiniMod Nutrition Intervention Tool
                Optimization Method: MIN
                Version: 0.0.6dev
                Solver: CBC,
                Show Output: True
                
                
[Note]: Optimizing...
[Note]: Optimal Solution Found
+----------------------------+----------------------------+
| MiniMod Solver Results     |                            |
| Method:                    | MIN                        |
| Solver:                    | CBC                        |
| Optimization Status:       | OptimizationStatus.OPTIMAL |
| Number of Solutions Found: | 1                          |
+----------------------------+----------------------------+
+-----------------------------+------+
| No. of Variables:           |  120 |
| No. of Integer Variables:   |  120 |
| No. of Constraints          |  313 |
| No. of Non-zeros in Constr. | 1623 |
+-----------------------------+------+
Interventions Chosen:
+----------------------------------------+-------------+
| Minimum Benefit                        | 1.45004e+07 |
| Objective Bounds                       | 1.55095e+06 |
| Total Cost                             | 1.55095e+06 |
| Total WRA Effectively Covered (Folate) | 1.45004e+07 |
+----------------------------------------+-------------+
+------------------+----------+
| Cost per Benefit | 0.106959 |
+------------------+----------+
+-----------------------------------+--+
| Total Cost and Benefits over Time |  |
+-----------------------------------+--+
|   time |   opt_vals |   opt_benefit |   opt_costs |
|-------:|-----------:|--------------:|------------:|
|      1 |          3 |   0           |      286412 |
|      2 |          3 |   0           |      134017 |
|      3 |          3 |   1.92897e+06 |      135594 |
|      4 |          3 |   1.98616e+06 |      137190 |
|      5 |          3 |   2.04362e+06 |      138805 |
|      6 |          3 |   2.10248e+06 |      140439 |
|      7 |          3 |   2.16447e+06 |      142093 |
|      8 |          3 |   2.22715e+06 |      143766 |
|      9 |          3 |   2.29016e+06 |      145460 |
|     10 |          3 |   2.35346e+06 |      147172 |

Optimal Interventions

+------------------------+-----+-----+-----+-----+-----+-----+-----+-----+-----+------+
|                        |   1 |   2 |   3 |   4 |   5 |   6 |   7 |   8 |   9 |   10 |
|------------------------+-----+-----+-----+-----+-----+-----+-----+-----+-----+------|
| ('fflour33', 'Cities') |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |    1 |
| ('fflour33', 'North')  |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |    1 |
| ('fflour33', 'South')  |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |    1 |
+------------------------+-----+-----+-----+-----+-----+-----+-----+-----+-----+------+
Running with None
[Note]: Processing Data...
[Note]: Creating Base Model with constraints

                MiniMod Nutrition Intervention Tool
                Optimization Method: MIN
                Version: 0.0.6dev
                Solver: CBC,
                Show Output: True
                
                
[Note]: Optimizing...
[Note]: Optimal Solution Found
Running with time
[Note]: Processing Data...
[Note]: Creating Base Model with constraints

                MiniMod Nutrition Intervention Tool
                Optimization Method: MIN
                Version: 0.0.6dev
                Solver: CBC,
                Show Output: True
                
                
[Note]: Optimizing...
[Note]: Optimal Solution Found
Running with space
[Note]: Processing Data...
[Note]: Creating Base Model with constraints

                MiniMod Nutrition Intervention Tool
                Optimization Method: MIN
                Version: 0.0.6dev
                Solver: CBC,
                Show Output: True
                
                
[Note]: Optimizing...
[Note]: Optimal Solution Found
Running with both
[Note]: Processing Data...
[Note]: Creating Base Model with constraints

                MiniMod Nutrition Intervention Tool
                Optimization Method: MIN
                Version: 0.0.6dev
                Solver: CBC,
                Show Output: True
                
                
[Note]: Optimizing...
[Note]: Optimal Solution Found
+----------------------------+----------------------------+
| MiniMod Solver Results     |                            |
| Method:                    | MIN                        |
| Solver:                    | CBC                        |
| Optimization Status:       | OptimizationStatus.OPTIMAL |
| Number of Solutions Found: | 1                          |
+----------------------------+----------------------------+
+-----------------------------+------+
| No. of Variables:           |  120 |
| No. of Integer Variables:   |  120 |
| No. of Constraints          |  313 |
| No. of Non-zeros in Constr. | 1623 |
+-----------------------------+------+
Interventions Chosen:
+----------------------------------------+-------------+
| Minimum Benefit                        | 1.45004e+07 |
| Objective Bounds                       | 1.55095e+06 |
| Total Cost                             | 1.55095e+06 |
| Total WRA Effectively Covered (Folate) | 1.45004e+07 |
+----------------------------------------+-------------+
+------------------+----------+
| Cost per Benefit | 0.106959 |
+------------------+----------+
+-----------------------------------+--+
| Total Cost and Benefits over Time |  |
+-----------------------------------+--+
|   time |   opt_vals |   opt_benefit |   opt_costs |
|-------:|-----------:|--------------:|------------:|
|      1 |          3 |   0           |      286412 |
|      2 |          3 |   0           |      134017 |
|      3 |          3 |   1.92897e+06 |      135594 |
|      4 |          3 |   1.98616e+06 |      137190 |
|      5 |          3 |   2.04362e+06 |      138805 |
|      6 |          3 |   2.10248e+06 |      140439 |
|      7 |          3 |   2.16447e+06 |      142093 |
|      8 |          3 |   2.22715e+06 |      143766 |
|      9 |          3 |   2.29016e+06 |      145460 |
|     10 |          3 |   2.35346e+06 |      147172 |

Optimal Interventions

+------------------------+-----+-----+-----+-----+-----+-----+-----+-----+-----+------+
|                        |   1 |   2 |   3 |   4 |   5 |   6 |   7 |   8 |   9 |   10 |
|------------------------+-----+-----+-----+-----+-----+-----+-----+-----+-----+------|
| ('fflour33', 'Cities') |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |    1 |
| ('fflour33', 'North')  |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |    1 |
| ('fflour33', 'South')  |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |    1 |
+------------------------+-----+-----+-----+-----+-----+-----+-----+-----+-----+------+
importing Jupyter notebook from /home/lordflaron/Documents/minimod/optimization_work/demewoz_lives_saved/zinc_effective_coverage_analysis.ipynb
The autoreload extension is already loaded. To reload it, use:
  %reload_ext autoreload
Changed zcube to 0
Changed zflourzcube to zflour
[Note]: Processing Data...
[Note]: Creating Base Model with constraints

                MiniMod Nutrition Intervention Tool
                Optimization Method: MIN
                Version: 0.0.6dev
                Solver: CBC,
                Show Output: True
                
                
[Note]: Optimizing...
[Note]: Optimal Solution Found
+----------------------------+----------------------------+
| MiniMod Solver Results     |                            |
| Method:                    | MIN                        |
| Solver:                    | CBC                        |
| Optimization Status:       | OptimizationStatus.OPTIMAL |
| Number of Solutions Found: | 1                          |
+----------------------------+----------------------------+
+-----------------------------+------+
| No. of Variables:           |   90 |
| No. of Integer Variables:   |   90 |
| No. of Constraints          |  313 |
| No. of Non-zeros in Constr. | 1278 |
+-----------------------------+------+
Interventions Chosen:
+-------------------------------------------+-------------+
| Minimum Benefit                           | 7.81179e+06 |
| Objective Bounds                          | 6.06955e+06 |
| Total Cost                                | 6.06955e+06 |
| Total Children Effectively Covered (Zinc) | 7.81179e+06 |
+-------------------------------------------+-------------+
+------------------+----------+
| Cost per Benefit | 0.776973 |
+------------------+----------+
+-----------------------------------+--+
| Total Cost and Benefits over Time |  |
+-----------------------------------+--+
|   time |   opt_vals |   opt_benefit |   opt_costs |
|-------:|-----------:|--------------:|------------:|
|      1 |          3 |        833571 |      494593 |
|      2 |          3 |        846033 |      343359 |
|      3 |          3 |        858734 |      641157 |
|      4 |          3 |        872058 |      588019 |
|      5 |          3 |        885833 |      680607 |
|      6 |          3 |        899011 |      666795 |
|      7 |          3 |        912323 |      613962 |
|      8 |          3 |        925599 |      622817 |
|      9 |          3 |        938577 |      693359 |
|     10 |          3 |        951450 |      724881 |

Optimal Interventions

+----------------------+-----+-----+-----+-----+-----+-----+-----+-----+-----+------+
|                      |   1 |   2 |   3 |   4 |   5 |   6 |   7 |   8 |   9 |   10 |
|----------------------+-----+-----+-----+-----+-----+-----+-----+-----+-----+------|
| ('zflour', 'Cities') |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |    1 |
| ('zflour', 'North')  |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |    1 |
| ('zflour', 'South')  |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |    1 |
+----------------------+-----+-----+-----+-----+-----+-----+-----+-----+-----+------+
Running with None
[Note]: Processing Data...
[Note]: Creating Base Model with constraints

                MiniMod Nutrition Intervention Tool
                Optimization Method: MIN
                Version: 0.0.6dev
                Solver: CBC,
                Show Output: True
                
                
[Note]: Optimizing...
[Note]: Optimal Solution Found
Running with time
[Note]: Processing Data...
[Note]: Creating Base Model with constraints

                MiniMod Nutrition Intervention Tool
                Optimization Method: MIN
                Version: 0.0.6dev
                Solver: CBC,
                Show Output: True
                
                
[Note]: Optimizing...
[Note]: Optimal Solution Found
Running with space
[Note]: Processing Data...
[Note]: Creating Base Model with constraints

                MiniMod Nutrition Intervention Tool
                Optimization Method: MIN
                Version: 0.0.6dev
                Solver: CBC,
                Show Output: True
                
                
[Note]: Optimizing...
[Note]: Optimal Solution Found
Running with both
[Note]: Processing Data...
[Note]: Creating Base Model with constraints

                MiniMod Nutrition Intervention Tool
                Optimization Method: MIN
                Version: 0.0.6dev
                Solver: CBC,
                Show Output: True
                
                
[Note]: Optimizing...
[Note]: Optimal Solution Found
+----------------------------+----------------------------+
| MiniMod Solver Results     |                            |
| Method:                    | MIN                        |
| Solver:                    | CBC                        |
| Optimization Status:       | OptimizationStatus.OPTIMAL |
| Number of Solutions Found: | 1                          |
+----------------------------+----------------------------+
+-----------------------------+------+
| No. of Variables:           |   90 |
| No. of Integer Variables:   |   90 |
| No. of Constraints          |  313 |
| No. of Non-zeros in Constr. | 1278 |
+-----------------------------+------+
Interventions Chosen:
+-------------------------------------------+-------------+
| Minimum Benefit                           | 7.81179e+06 |
| Objective Bounds                          | 6.06955e+06 |
| Total Cost                                | 6.06955e+06 |
| Total Children Effectively Covered (Zinc) | 7.81179e+06 |
+-------------------------------------------+-------------+
+------------------+----------+
| Cost per Benefit | 0.776973 |
+------------------+----------+
+-----------------------------------+--+
| Total Cost and Benefits over Time |  |
+-----------------------------------+--+
|   time |   opt_vals |   opt_benefit |   opt_costs |
|-------:|-----------:|--------------:|------------:|
|      1 |          3 |        833571 |      494593 |
|      2 |          3 |        846033 |      343359 |
|      3 |          3 |        858734 |      641157 |
|      4 |          3 |        872058 |      588019 |
|      5 |          3 |        885833 |      680607 |
|      6 |          3 |        899011 |      666795 |
|      7 |          3 |        912323 |      613962 |
|      8 |          3 |        925599 |      622817 |
|      9 |          3 |        938577 |      693359 |
|     10 |          3 |        951450 |      724881 |

Optimal Interventions

+----------------------+-----+-----+-----+-----+-----+-----+-----+-----+-----+------+
|                      |   1 |   2 |   3 |   4 |   5 |   6 |   7 |   8 |   9 |   10 |
|----------------------+-----+-----+-----+-----+-----+-----+-----+-----+-----+------|
| ('zflour', 'Cities') |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |    1 |
| ('zflour', 'North')  |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |    1 |
| ('zflour', 'South')  |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |    1 |
+----------------------+-----+-----+-----+-----+-----+-----+-----+-----+-----+------+
importing Jupyter notebook from /home/lordflaron/Documents/minimod/optimization_work/demewoz_lives_saved/vas_effective_coverage_analysis.ipynb
Changed cube to 0
Changed maxoil to oil
Changed maxoilcube to maxoil
Changed oilcube to oil
Changed oilcubevas to oilvas
Changed maxoilcubevas to maxoilvas
Changed cubevas to vas
Changed cubeclinic to clinic
Changed maxoilcubeclinic to maxoilclinic
Changed oilcubeclinic to oilclinic
Changed maxoilcube to oilcube
Changed maxoilvas to oilvas
Changed maxoilcubevas to oilcubevas
Changed maxoilclinic to oilclinic
Changed maxoilcubeclinic to oilcubeclinic
[Note]: Processing Data...
[Note]: Creating Base Model with constraints

                MiniMod Nutrition Intervention Tool
                Optimization Method: MIN
                Version: 0.0.6dev
                Solver: CBC,
                Show Output: True
                
                
[Note]: Optimizing...
[Note]: Optimal Solution Found
+----------------------------+----------------------------+
| MiniMod Solver Results     |                            |
| Method:                    | MIN                        |
| Solver:                    | CBC                        |
| Optimization Status:       | OptimizationStatus.OPTIMAL |
| Number of Solutions Found: | 1                          |
+----------------------------+----------------------------+
+-----------------------------+------+
| No. of Variables:           |  510 |
| No. of Integer Variables:   |  510 |
| No. of Constraints          |  454 |
| No. of Non-zeros in Constr. | 6933 |
+-----------------------------+------+
Interventions Chosen:
+-----------------------------------------+-------------+
| Minimum Benefit                         | 1.24652e+07 |
| Objective Bounds                        | 2.83901e+07 |
| Total Cost                              | 2.83901e+07 |
| Total Children Effectively Covered (VA) | 1.2496e+07  |
+-----------------------------------------+-------------+
+------------------+---------+
| Cost per Benefit | 2.27193 |
+------------------+---------+
+-----------------------------------+--+
| Total Cost and Benefits over Time |  |
+-----------------------------------+--+
|   time |   opt_vals |   opt_benefit |   opt_costs |
|-------:|-----------:|--------------:|------------:|
|      1 |          3 |   1.345e+06   | 3.56153e+06 |
|      2 |          3 |   1.35927e+06 | 3.52776e+06 |
|      3 |          3 |   1.05806e+06 | 1.72146e+06 |
|      4 |          3 |   1.4436e+06  | 2.66859e+06 |
|      5 |          3 |   1.46313e+06 | 2.70103e+06 |
|      6 |          3 |   1.48317e+06 | 2.79537e+06 |
|      7 |          3 |   1.50492e+06 | 2.76685e+06 |
|      8 |          3 |   1.52759e+06 | 2.88426e+06 |
|      9 |          3 |   1.55068e+06 | 2.89545e+06 |
|     10 |          3 |   1.57489e+06 | 2.8678e+06  |

Optimal Interventions

+--------------------------+-----+-----+-----+-----+-----+-----+-----+-----+-----+------+
|                          |   1 |   2 |   3 |   4 |   5 |   6 |   7 |   8 |   9 |   10 |
|--------------------------+-----+-----+-----+-----+-----+-----+-----+-----+-----+------|
| ('oilcube', 'Cities')    |   0 |   0 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |    1 |
| ('oilcube', 'South')     |   0 |   0 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |    1 |
| ('oilcubevas', 'Cities') |   1 |   1 |   0 |   0 |   0 |   0 |   0 |   0 |   0 |    0 |
| ('oilcubevas', 'North')  |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |    1 |
| ('oilcubevas', 'South')  |   1 |   1 |   0 |   0 |   0 |   0 |   0 |   0 |   0 |    0 |
+--------------------------+-----+-----+-----+-----+-----+-----+-----+-----+-----+------+
Running with None
[Note]: Processing Data...
[Note]: Creating Base Model with constraints

                MiniMod Nutrition Intervention Tool
                Optimization Method: MIN
                Version: 0.0.6dev
                Solver: CBC,
                Show Output: True
                
                
[Note]: Optimizing...
[Note]: Optimal Solution Found
Running with time
[Note]: Processing Data...
[Note]: Creating Base Model with constraints

                MiniMod Nutrition Intervention Tool
                Optimization Method: MIN
                Version: 0.0.6dev
                Solver: CBC,
                Show Output: True
                
                
[Note]: Optimizing...
[Note]: Optimal Solution Found
Running with space
[Note]: Processing Data...
[Note]: Creating Base Model with constraints

                MiniMod Nutrition Intervention Tool
                Optimization Method: MIN
                Version: 0.0.6dev
                Solver: CBC,
                Show Output: True
                
                
[Note]: Optimizing...
[Note]: Optimal Solution Found
Running with both
[Note]: Processing Data...
[Note]: Creating Base Model with constraints

                MiniMod Nutrition Intervention Tool
                Optimization Method: MIN
                Version: 0.0.6dev
                Solver: CBC,
                Show Output: True
                
                
[Note]: Optimizing...
[Note]: Optimal Solution Found
+----------------------------+----------------------------+
| MiniMod Solver Results     |                            |
| Method:                    | MIN                        |
| Solver:                    | CBC                        |
| Optimization Status:       | OptimizationStatus.OPTIMAL |
| Number of Solutions Found: | 1                          |
+----------------------------+----------------------------+
+-----------------------------+------+
| No. of Variables:           |  510 |
| No. of Integer Variables:   |  510 |
| No. of Constraints          |  454 |
| No. of Non-zeros in Constr. | 6933 |
+-----------------------------+------+
Interventions Chosen:
+-----------------------------------------+-------------+
| Minimum Benefit                         | 1.24652e+07 |
| Objective Bounds                        | 2.83901e+07 |
| Total Cost                              | 2.83901e+07 |
| Total Children Effectively Covered (VA) | 1.2496e+07  |
+-----------------------------------------+-------------+
+------------------+---------+
| Cost per Benefit | 2.27193 |
+------------------+---------+
+-----------------------------------+--+
| Total Cost and Benefits over Time |  |
+-----------------------------------+--+
|   time |   opt_vals |   opt_benefit |   opt_costs |
|-------:|-----------:|--------------:|------------:|
|      1 |          3 |   1.345e+06   | 3.56153e+06 |
|      2 |          3 |   1.35927e+06 | 3.52776e+06 |
|      3 |          3 |   1.05806e+06 | 1.72146e+06 |
|      4 |          3 |   1.4436e+06  | 2.66859e+06 |
|      5 |          3 |   1.46313e+06 | 2.70103e+06 |
|      6 |          3 |   1.48317e+06 | 2.79537e+06 |
|      7 |          3 |   1.50492e+06 | 2.76685e+06 |
|      8 |          3 |   1.52759e+06 | 2.88426e+06 |
|      9 |          3 |   1.55068e+06 | 2.89545e+06 |
|     10 |          3 |   1.57489e+06 | 2.8678e+06  |

Optimal Interventions

+--------------------------+-----+-----+-----+-----+-----+-----+-----+-----+-----+------+
|                          |   1 |   2 |   3 |   4 |   5 |   6 |   7 |   8 |   9 |   10 |
|--------------------------+-----+-----+-----+-----+-----+-----+-----+-----+-----+------|
| ('oilcube', 'Cities')    |   0 |   0 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |    1 |
| ('oilcube', 'South')     |   0 |   0 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |    1 |
| ('oilcubevas', 'Cities') |   1 |   1 |   0 |   0 |   0 |   0 |   0 |   0 |   0 |    0 |
| ('oilcubevas', 'North')  |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |   1 |    1 |
| ('oilcubevas', 'South')  |   1 |   1 |   0 |   0 |   0 |   0 |   0 |   0 |   0 |    0 |
+--------------------------+-----+-----+-----+-----+-----+-----+-----+-----+-----+------+
\end{verbatim}

\begin{verbatim}
/usr/lib/python3.8/site-packages/geopandas/_compat.py:84: UserWarning: The Shapely GEOS version (3.8.0-CAPI-1.13.1 ) is incompatible with the GEOS version PyGEOS was compiled with (3.8.1-CAPI-1.13.3). Conversions between both will be slow.
  warnings.warn(
/home/lordflaron/Documents/minimod/minimod/utils/plotting.py:250: MatplotlibDeprecationWarning: The 's' parameter of annotate() has been renamed 'text' since Matplotlib 3.3; support for the old name will be dropped two minor releases later.
  df_bubble_final.apply(lambda x: ax.annotate(s = x.bubble_name,
/home/lordflaron/Documents/minimod/minimod/utils/plotting.py:250: MatplotlibDeprecationWarning: The 's' parameter of annotate() has been renamed 'text' since Matplotlib 3.3; support for the old name will be dropped two minor releases later.
  df_bubble_final.apply(lambda x: ax.annotate(s = x.bubble_name,
/usr/lib/python3.8/site-packages/IPython/core/interactiveshell.py:3417: PerformanceWarning: indexing past lexsort depth may impact performance.
  exec(code_obj, self.user_global_ns, self.user_ns)
/home/lordflaron/Documents/minimod/minimod/utils/plotting.py:250: MatplotlibDeprecationWarning: The 's' parameter of annotate() has been renamed 'text' since Matplotlib 3.3; support for the old name will be dropped two minor releases later.
  df_bubble_final.apply(lambda x: ax.annotate(s = x.bubble_name,
/home/lordflaron/Documents/minimod/minimod/utils/plotting.py:250: MatplotlibDeprecationWarning: The 's' parameter of annotate() has been renamed 'text' since Matplotlib 3.3; support for the old name will be dropped two minor releases later.
  df_bubble_final.apply(lambda x: ax.annotate(s = x.bubble_name,
/home/lordflaron/Documents/minimod/minimod/utils/plotting.py:250: MatplotlibDeprecationWarning: The 's' parameter of annotate() has been renamed 'text' since Matplotlib 3.3; support for the old name will be dropped two minor releases later.
  df_bubble_final.apply(lambda x: ax.annotate(s = x.bubble_name,
/home/lordflaron/Documents/minimod/minimod/utils/plotting.py:250: MatplotlibDeprecationWarning: The 's' parameter of annotate() has been renamed 'text' since Matplotlib 3.3; support for the old name will be dropped two minor releases later.
  df_bubble_final.apply(lambda x: ax.annotate(s = x.bubble_name,
/usr/lib/python3.8/site-packages/IPython/core/interactiveshell.py:3417: PerformanceWarning: indexing past lexsort depth may impact performance.
  exec(code_obj, self.user_global_ns, self.user_ns)
/home/lordflaron/Documents/minimod/minimod/utils/plotting.py:250: MatplotlibDeprecationWarning: The 's' parameter of annotate() has been renamed 'text' since Matplotlib 3.3; support for the old name will be dropped two minor releases later.
  df_bubble_final.apply(lambda x: ax.annotate(s = x.bubble_name,
/home/lordflaron/Documents/minimod/minimod/utils/plotting.py:250: MatplotlibDeprecationWarning: The 's' parameter of annotate() has been renamed 'text' since Matplotlib 3.3; support for the old name will be dropped two minor releases later.
  df_bubble_final.apply(lambda x: ax.annotate(s = x.bubble_name,
/home/lordflaron/Documents/minimod/minimod/utils/plotting.py:250: MatplotlibDeprecationWarning: The 's' parameter of annotate() has been renamed 'text' since Matplotlib 3.3; support for the old name will be dropped two minor releases later.
  df_bubble_final.apply(lambda x: ax.annotate(s = x.bubble_name,
/home/lordflaron/Documents/minimod/minimod/utils/plotting.py:250: MatplotlibDeprecationWarning: The 's' parameter of annotate() has been renamed 'text' since Matplotlib 3.3; support for the old name will be dropped two minor releases later.
  df_bubble_final.apply(lambda x: ax.annotate(s = x.bubble_name,
/usr/lib/python3.8/site-packages/IPython/core/interactiveshell.py:3417: PerformanceWarning: indexing past lexsort depth may impact performance.
  exec(code_obj, self.user_global_ns, self.user_ns)
/home/lordflaron/Documents/minimod/minimod/utils/plotting.py:250: MatplotlibDeprecationWarning: The 's' parameter of annotate() has been renamed 'text' since Matplotlib 3.3; support for the old name will be dropped two minor releases later.
  df_bubble_final.apply(lambda x: ax.annotate(s = x.bubble_name,
/home/lordflaron/Documents/minimod/minimod/utils/plotting.py:250: MatplotlibDeprecationWarning: The 's' parameter of annotate() has been renamed 'text' since Matplotlib 3.3; support for the old name will be dropped two minor releases later.
  df_bubble_final.apply(lambda x: ax.annotate(s = x.bubble_name,
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
/usr/lib/python3.8/site-packages/ipywidgets/widgets/interaction.py in update(self, *args)
    254                     value = widget.get_interact_value()
    255                     self.kwargs[widget._kwarg] = value
--> 256                 self.result = self.f(**self.kwargs)
    257                 show_inline_matplotlib_plots()
    258                 if self.auto_display and self.result is not None:

~/Documents/minimod/optimization_work/demewoz_lives_saved/vas_effective_coverage_analysis.ipynb in plot_map_model(m, **kwargs)

TypeError: plot_map_benchmark() got an unexpected keyword argument 'bau_intervention_bubbles'
\end{verbatim}

\begin{verbatim}
interactive(children=(Dropdown(description='col', options=('lives_saved', 'lives_saved_high'), value='lives_sa

interactive(children=(Dropdown(description='col', options=('lives_saved', 'lives_saved_high'), value='lives_sa
\end{verbatim}

\includegraphics{_codebraid/ce009dfeedd9e286/python3--001-03.png}

\begin{verbatim}
interactive(children=(Dropdown(description='col', options=('lives_saved', 'lives_saved_high'), value='lives_sa
\end{verbatim}

\includegraphics{_codebraid/ce009dfeedd9e286/python3--001-05.png}

\includegraphics{_codebraid/ce009dfeedd9e286/python3--001-06.png}

\begin{verbatim}
interactive(children=(IntSlider(value=1, description='time', max=10, min=1), Dropdown(description='optimum_int
\end{verbatim}

\includegraphics{_codebraid/ce009dfeedd9e286/python3--001-08.png}

\begin{verbatim}
interactive(children=(Dropdown(description='m', options={None: <minimod.solvers.costsolver.CostSolver object a

interactive(children=(Dropdown(description='m', options={None: <minimod.solvers.costsolver.CostSolver object a
\end{verbatim}

\includegraphics{_codebraid/ce009dfeedd9e286/python3--001-11.png}

\begin{verbatim}
interactive(children=(Dropdown(description='m', options={None: <minimod.solvers.costsolver.CostSolver object a
\end{verbatim}

\includegraphics{_codebraid/ce009dfeedd9e286/python3--001-13.png}

\includegraphics{_codebraid/ce009dfeedd9e286/python3--001-14.png}

\begin{verbatim}
interactive(children=(IntSlider(value=1, description='time', max=10, min=1), Dropdown(description='optimum_int
\end{verbatim}

\includegraphics{_codebraid/ce009dfeedd9e286/python3--001-16.png}

\begin{verbatim}
interactive(children=(Dropdown(description='m', options={None: <minimod.solvers.costsolver.CostSolver object a

interactive(children=(Dropdown(description='m', options={None: <minimod.solvers.costsolver.CostSolver object a
\end{verbatim}

\includegraphics{_codebraid/ce009dfeedd9e286/python3--001-19.png}

\begin{verbatim}
interactive(children=(Dropdown(description='m', options={None: <minimod.solvers.costsolver.CostSolver object a
\end{verbatim}

\includegraphics{_codebraid/ce009dfeedd9e286/python3--001-21.png}

\includegraphics{_codebraid/ce009dfeedd9e286/python3--001-22.png}

\begin{verbatim}
interactive(children=(IntSlider(value=1, description='time', max=10, min=1), Dropdown(description='optimum_int
\end{verbatim}

\includegraphics{_codebraid/ce009dfeedd9e286/python3--001-24.png}

\begin{verbatim}
interactive(children=(Dropdown(description='m', options={None: <minimod.solvers.costsolver.CostSolver object a

interactive(children=(Dropdown(description='m', options={None: <minimod.solvers.costsolver.CostSolver object a
\end{verbatim}

\includegraphics{_codebraid/ce009dfeedd9e286/python3--001-27.png}

\begin{verbatim}
interactive(children=(Dropdown(description='m', options={None: <minimod.solvers.costsolver.CostSolver object a
\end{verbatim}

\begin{longtable}[]{@{}llll@{}}
\caption{Optimally Chosen Interventions vs.~BAU*.
\{\#tbl:df\_int\_opt\}}\tabularnewline
\toprule
\begin{minipage}[b]{0.18\columnwidth}\raggedright
\strut
\end{minipage} & \begin{minipage}[b]{0.22\columnwidth}\raggedright
BAU*\strut
\end{minipage} & \begin{minipage}[b]{0.22\columnwidth}\raggedright
Optimal Intervention Chosen\strut
\end{minipage} & \begin{minipage}[b]{0.28\columnwidth}\raggedright
Interventions Not Chosen\strut
\end{minipage}\tabularnewline
\midrule
\endfirsthead
\toprule
\begin{minipage}[b]{0.18\columnwidth}\raggedright
\strut
\end{minipage} & \begin{minipage}[b]{0.22\columnwidth}\raggedright
BAU*\strut
\end{minipage} & \begin{minipage}[b]{0.22\columnwidth}\raggedright
Optimal Intervention Chosen\strut
\end{minipage} & \begin{minipage}[b]{0.28\columnwidth}\raggedright
Interventions Not Chosen\strut
\end{minipage}\tabularnewline
\midrule
\endhead
\begin{minipage}[t]{0.18\columnwidth}\raggedright
Zinc (Children Eff. Cov.)\strut
\end{minipage} & \begin{minipage}[t]{0.22\columnwidth}\raggedright
Zinc Flour (95 mg/kg)\strut
\end{minipage} & \begin{minipage}[t]{0.22\columnwidth}\raggedright
Zinc Flour (95 mg/kg)\strut
\end{minipage} & \begin{minipage}[t]{0.28\columnwidth}\raggedright
Zinc Cube 600 mg/kg\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.18\columnwidth}\raggedright
VA (Children Eff. Cov.)\strut
\end{minipage} & \begin{minipage}[t]{0.22\columnwidth}\raggedright
VA Oil 9 mg/kg + VAS-CHD\strut
\end{minipage} & \begin{minipage}[t]{0.22\columnwidth}\raggedright
VA Oil 12 mg/kg + VAS-CHD (partial) + VA Cube (80 mg/kg)\strut
\end{minipage} & \begin{minipage}[t]{0.28\columnwidth}\raggedright
VA Oil 12 mg/kg, VAS Routine\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.18\columnwidth}\raggedright
Folic Acid (WRA Eff. Cov.)\strut
\end{minipage} & \begin{minipage}[t]{0.22\columnwidth}\raggedright
Folic Acid Flour 1.65 mg/kg\strut
\end{minipage} & \begin{minipage}[t]{0.22\columnwidth}\raggedright
Folic Acid Flour 1.65 mg/kg\strut
\end{minipage} & \begin{minipage}[t]{0.28\columnwidth}\raggedright
Folic Acid Cube 100 mg/kg\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.18\columnwidth}\raggedright
All (Lives Saved)\strut
\end{minipage} & \begin{minipage}[t]{0.22\columnwidth}\raggedright
VA Oil 9 mg/kg + VAS-CHD + Zinc Flour 95 mg/kg + Folic Acid Flour 1.65
mg/kg\strut
\end{minipage} & \begin{minipage}[t]{0.22\columnwidth}\raggedright
VA Oil 9 mg/kg + Zinc Flour 95 mg/kg + Folic Acid Flour 5 mg/kg + Folic
Acid Cube 100 mg/kg\strut
\end{minipage} & \begin{minipage}[t]{0.28\columnwidth}\raggedright
Zinc Cube 600 mg/kg, VA Oil 12 mg/kg, VAS Routine, Folic Acid Cube 100
mg/kg\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.18\columnwidth}\raggedright
All (Lives Saved, Alt.)\strut
\end{minipage} & \begin{minipage}[t]{0.22\columnwidth}\raggedright
VA Oil 9 mg/kg + VAS-CHD + Zinc Flour 95 mg/kg + Folic Acid Flour 1.65
mg/kg\strut
\end{minipage} & \begin{minipage}[t]{0.22\columnwidth}\raggedright
VA Oil 9 mg/kg + VAS-CHD (partial) + Zinc Flour (95 mg/kg) + Folic Acid
Cube (100 mg/kg) + Folic Acid Flour (5 mg/kg)\strut
\end{minipage} & \begin{minipage}[t]{0.28\columnwidth}\raggedright
Zinc Cube 600 mg/kg, VA Oil 12 mg/kg, VAS Routine, Folic Acid Cube 100
mg/kg\strut
\end{minipage}\tabularnewline
\bottomrule
\end{longtable}

*@tbl:df\_int\_opt shows the set of optimal interventions chosen for
each micronutrient simulation as well as their Business as Usual
Scenario (BAU*).

The BAU* was chosen for each simulation so that it would be consistent
across effective coverage and lives saved simulations. In the case of
the micronutrient effective coverage simulations, the optimal solution
is the BAU* scenario for zinc and folic acid. For vitamin A, in contrast
to the BAU* scenario, fortified boullion cube is also chosen.

When we consider all interventions together, however, the optimal choice
becomes different than the BAU* (which is just a composite of the
micronutrient scenarios' BAU\emph{).\footnote{Notice that there are two
  alternative definitions for the lives saved estimates of each
  nutritional intervention. The resulting optimally chosen interventions
  are similar, but the alternative specification includes VAS campaign
  as well.} In contrast to the BAU}, the optimally chosen set of
interventions may not include VAS campaign, and may include an addition
of folic acid fortified boullion cube. Folic acid fortified flour is
included at 1.65 mg/kg, not 5.0 mg/kg.

Note that, although some of the interventions chosen optimally are the
same as in the BAU*, the timing and spatial distribution of each
intervention may not be the same. Since MINIMOD chooses the optimal set
of interventions across space and time, it may be that the appearance of
an intervention may happen earlier or later in time than others and may
only occur in certain parts of the country.

The BAU* scenarios all assume a constant set of interventions across
space and time.

We can also see the differences in how each region is affected after 10
years in terms of accumulated benefits and costs.

\begin{table}
\centering
\caption{Total Benefits and Costs Across Space}
\label{tbl:opt_space}
\begin{tabular}{llllll}
\toprule
                        &    & \% North & \% South & \% Cities &       National \\
\midrule
\multirow{2}{*}{Zinc (Children Eff. Cov.)} & CB &    0.26 &    0.33 &     0.41 &   8,923,189.41 \\
                        & CC &    0.24 &    0.37 &     0.39 &   6,069,548.82 \\
\cline{1-6}
\multirow{2}{*}{VA (Children Eff. Cov.)} & CB &    0.64 &    0.20 &     0.16 &  13,069,585.95 \\
                        & CC &    0.64 &    0.20 &     0.16 &  23,736,675.25 \\
\cline{1-6}
\multirow{2}{*}{Folic Acid (WRA Eff. Cov.)} & CB &    0.18 &    0.33 &     0.49 &  17,096,476.30 \\
                        & CC &    0.24 &    0.37 &     0.39 &   1,550,946.68 \\
\cline{1-6}
\multirow{2}{*}{All (Lives Saved)} & CB &    0.37 &    0.35 &     0.28 &      26,614.00 \\
                        & CC &    0.27 &    0.33 &     0.40 &  11,511,343.00 \\
\cline{1-6}
\multirow{2}{*}{All (Lives Saved, Alt.)} & CB &    0.45 &    0.30 &     0.25 &      32,849.00 \\
                        & CC &    0.42 &    0.26 &     0.31 &  14,577,066.00 \\
\bottomrule
\multicolumn{6}{p{.8\textwidth}}{Note: TB= Total Benefits and TC= Total Costs}
\end{tabular}
\end{table}

*@tbl:opt\_space shows the accumulated benefits and costs for each
simulation across space. Note that the units of the benefits are
dependent on the simulation.

We can also see how benefits accumulate over time, in +@tbl:opt\_time.

\begin{table}
\centering
\caption{Optimal Cumulative Benefits over Time}
\label{tbl:opt_time}
\begin{tabular}{llllll}
\toprule
{} & Zinc (Children EC) & VA (Children EC) & Folic Acid (WRA EC) & All (LS) & All (LS, Alt.) \\
{} &                 CB &               CB &                  CB &       CB &             CB \\
\textbf{Time} &                    &                  &                     &          &                \\
\midrule
\textbf{1   } &            833,571 &        6,011,853 &                   0 &    2,290 &          3,741 \\
\textbf{2   } &          1,679,604 &        7,371,118 &                   0 &    4,611 &          7,524 \\
\textbf{3   } &          2,538,338 &        2,521,598 &           1,928,972 &    6,962 &         11,350 \\
\textbf{4   } &          3,410,396 &        3,965,198 &           3,915,128 &    9,658 &         14,299 \\
\textbf{5   } &          4,296,229 &        5,428,330 &           5,958,749 &   12,390 &         17,287 \\
\textbf{6   } &          5,195,240 &        6,911,502 &           8,061,227 &   15,160 &         20,317 \\
\textbf{7   } &          6,107,563 &        8,416,423 &          10,225,700 &   17,967 &         23,387 \\
\textbf{8   } &          7,033,162 &        9,944,016 &          12,452,854 &   20,811 &         26,498 \\
\textbf{9   } &          7,971,739 &       11,494,698 &          14,743,015 &   23,695 &         29,653 \\
\textbf{10  } &          8,923,189 &       13,069,586 &          17,096,476 &   26,614 &         32,849 \\
\bottomrule
\multicolumn{6}{p{.8\textwidth}}{Note: CB= Cumulative Benefits over a 10 year period, EC= Effective Coverage and LS=Lives Saved. }
\end{tabular}
\end{table}

To illustrate how different these outcomes are to the BAU* scenarios,
+@fig:bau\_comp shows the difference in cost-per child on a bar graph
for each simulation, side by side.

\begin{Shaded}
\begin{Highlighting}[numbers=left,,firstnumber=113,]
\ImportTok{import}\NormalTok{ matplotlib.pyplot }\ImportTok{as}\NormalTok{ plt}

\NormalTok{cpb }\OperatorTok{=}\NormalTok{ (}
\NormalTok{    df\_all}
\NormalTok{    .loc[(}\BuiltInTok{slice}\NormalTok{(}\VariableTok{None}\NormalTok{), }\DecValTok{10}\NormalTok{), :]}
\NormalTok{    .}\BuiltInTok{sum}\NormalTok{()}
\NormalTok{    .unstack()}
\NormalTok{    .assign(cost\_per\_benefit }\OperatorTok{=} \KeywordTok{lambda}\NormalTok{ df: df[}\StringTok{\textquotesingle{}CC\textquotesingle{}}\NormalTok{]}\OperatorTok{/}\NormalTok{df[}\StringTok{\textquotesingle{}CB\textquotesingle{}}\NormalTok{])}
\NormalTok{    [[}\StringTok{\textquotesingle{}BAU* Cost per Benefit\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}cost\_per\_benefit\textquotesingle{}}\NormalTok{]]}
\NormalTok{    .rename(\{}\StringTok{\textquotesingle{}cost\_per\_benefit\textquotesingle{}}\NormalTok{ : }\StringTok{\textquotesingle{}Optimal Cost per Benefit\textquotesingle{}}\NormalTok{\}, axis}\OperatorTok{=}\DecValTok{1}\NormalTok{)}
\NormalTok{    )}

\NormalTok{fig, (ax1,ax2) }\OperatorTok{=}\NormalTok{ plt.subplots(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{, figsize}\OperatorTok{=}\NormalTok{ (}\DecValTok{15}\NormalTok{,}\DecValTok{8}\NormalTok{))}

\NormalTok{all\_ls }\OperatorTok{=}\NormalTok{ (}
\NormalTok{    cpb}
\NormalTok{    .loc[cpb.index.}\BuiltInTok{str}\NormalTok{.contains(}\StringTok{\textquotesingle{}All\textquotesingle{}}\NormalTok{)]}
\NormalTok{    .assign(perc\_change}\OperatorTok{=} \KeywordTok{lambda}\NormalTok{ df: (df[}\StringTok{\textquotesingle{}BAU* Cost per Benefit\textquotesingle{}}\NormalTok{] }\OperatorTok{{-}}\NormalTok{ df[}\StringTok{\textquotesingle{}Optimal Cost per Benefit\textquotesingle{}}\NormalTok{])}\OperatorTok{/}\NormalTok{df[}\StringTok{\textquotesingle{}BAU* Cost per Benefit\textquotesingle{}}\NormalTok{])}
\NormalTok{    )}
\NormalTok{all\_ls[[}\StringTok{\textquotesingle{}BAU* Cost per Benefit\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Optimal Cost per Benefit\textquotesingle{}}\NormalTok{]].plot.bar(ax}\OperatorTok{=}\NormalTok{ax1)}
\NormalTok{eff\_cov }\OperatorTok{=}\NormalTok{ cpb.loc[}\OperatorTok{\textasciitilde{}}\NormalTok{cpb.index.}\BuiltInTok{str}\NormalTok{.contains(}\StringTok{\textquotesingle{}All\textquotesingle{}}\NormalTok{)].assign(perc\_change}\OperatorTok{=} \KeywordTok{lambda}\NormalTok{ df: (df[}\StringTok{\textquotesingle{}BAU* Cost per Benefit\textquotesingle{}}\NormalTok{] }\OperatorTok{{-}}\NormalTok{ df[}\StringTok{\textquotesingle{}Optimal Cost per Benefit\textquotesingle{}}\NormalTok{])}\OperatorTok{/}\NormalTok{df[}\StringTok{\textquotesingle{}BAU* Cost per Benefit\textquotesingle{}}\NormalTok{])}
\NormalTok{eff\_cov[[}\StringTok{\textquotesingle{}BAU* Cost per Benefit\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Optimal Cost per Benefit\textquotesingle{}}\NormalTok{]].plot.bar(ax}\OperatorTok{=}\NormalTok{ax2)}

\NormalTok{ax1.set\_title(}\StringTok{"Lives Saved (All)"}\NormalTok{)}
\NormalTok{ax2.set\_title(}\StringTok{"Effective Coverage"}\NormalTok{)}

\NormalTok{ax1.set\_ylabel(}\StringTok{"$/Lives Saved"}\NormalTok{)}
\NormalTok{ax2.set\_ylabel(}\StringTok{"$/Effectively Covered"}\NormalTok{)}

\NormalTok{ax1.set\_xticklabels(ax1.get\_xticklabels(), rotation }\OperatorTok{=} \DecValTok{90}\NormalTok{)}
\NormalTok{ax2.set\_xticklabels(ax2.get\_xticklabels(), rotation }\OperatorTok{=} \DecValTok{90}\NormalTok{)}

\NormalTok{fig.text(}\FloatTok{.5}\NormalTok{,}\OperatorTok{{-}}\FloatTok{.1}\NormalTok{, }\StringTok{"Note: EC= Effective Coverage"}\NormalTok{, ha}\OperatorTok{=}\StringTok{\textquotesingle{}center\textquotesingle{}}\NormalTok{)}


\NormalTok{plt.tight\_layout()}

\NormalTok{plt.savefig(}\StringTok{"optimization\_work/demewoz\_lives\_saved/reports/multi\_mn\_plus\_lives\_saved/bauvsopt.png"}\NormalTok{, dpi}\OperatorTok{=}\DecValTok{160}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_codebraid/ce009dfeedd9e286/python3--005-01.png}

\begin{figure}
\hypertarget{fig:bau_comp}{%
\centering
\includegraphics{bauvsopt.png}
\caption{Cost per Benefit Comparison of BAU* vs.
Optimal}\label{fig:bau_comp}
}
\end{figure}

In the following sections, we will look at relevant maps that will show
us how accumulated benefits evolve through time. For these sections we
will use shorthand for interventions, outlined in the following table:

\begin{longtable}[]{@{}ll@{}}
\toprule
Intervention & Abbreviation\tabularnewline
\midrule
\endhead
Zinc Flour (95 mg/kg) & zflour\tabularnewline
VA Oil 9mg/kg & oil\tabularnewline
VAS-CHD & vas\tabularnewline
VA Cube (80 mg/kg) & cube\tabularnewline
Folic Acid Cube (100 mg/kg) & fcube\tabularnewline
Folic Acid Flour (5 mg/kg) & fflour\tabularnewline
Folic Acid Flour (1.65 mg/kg) & fflour33\tabularnewline
\bottomrule
\end{longtable}

\hypertarget{effective-coverage-simulations}{%
\subsection{Effective Coverage
Simulations}\label{effective-coverage-simulations}}

\hypertarget{vitamin-a}{%
\subsubsection{Vitamin A}\label{vitamin-a}}

\begin{Shaded}
\begin{Highlighting}[numbers=left,,firstnumber=152,]
\CommentTok{\# Load data}
\NormalTok{geo\_df }\OperatorTok{=}\NormalTok{ gpd.read\_file(}\StringTok{"examples/data/maps/cameroon/CAM.shp"}\NormalTok{)}

\CommentTok{\# Now we create the boundaries for North, South and Cities}
\CommentTok{\# Based on "Measuring Costs of Vitamin A..., Table 2"}
\NormalTok{north }\OperatorTok{=} \VerbatimStringTok{r"Adamaoua|Nord|Extreme{-}Nord"}
\NormalTok{south }\OperatorTok{=} \VerbatimStringTok{r"Centre|Est|Nord{-}Ouest|Ouest|Sud|Sud{-}Ouest"}
\NormalTok{cities}\OperatorTok{=} \VerbatimStringTok{r"Littoral"} \CommentTok{\# Duala}
\CommentTok{\# Yaounde is in Mfoundi}
\NormalTok{geo\_df.loc[}\KeywordTok{lambda}\NormalTok{ df: df[}\StringTok{\textquotesingle{}ADM1\textquotesingle{}}\NormalTok{].}\BuiltInTok{str}\NormalTok{.contains(north), }\StringTok{\textquotesingle{}space\textquotesingle{}}\NormalTok{] }\OperatorTok{=} \StringTok{\textquotesingle{}North\textquotesingle{}}
\NormalTok{geo\_df.loc[}\KeywordTok{lambda}\NormalTok{ df: df[}\StringTok{\textquotesingle{}ADM1\textquotesingle{}}\NormalTok{].}\BuiltInTok{str}\NormalTok{.contains(south), }\StringTok{\textquotesingle{}space\textquotesingle{}}\NormalTok{] }\OperatorTok{=} \StringTok{\textquotesingle{}South\textquotesingle{}}
\NormalTok{geo\_df.loc[}\KeywordTok{lambda}\NormalTok{ df: df[}\StringTok{\textquotesingle{}ADM1\textquotesingle{}}\NormalTok{].}\BuiltInTok{str}\NormalTok{.contains(cities), }\StringTok{\textquotesingle{}space\textquotesingle{}}\NormalTok{] }\OperatorTok{=} \StringTok{\textquotesingle{}Cities\textquotesingle{}}
\NormalTok{geo\_df.loc[}\KeywordTok{lambda}\NormalTok{ df: df[}\StringTok{\textquotesingle{}ADM2\textquotesingle{}}\NormalTok{].}\BuiltInTok{str}\NormalTok{.contains(}\VerbatimStringTok{r"Mfoundi"}\NormalTok{), }\StringTok{\textquotesingle{}space\textquotesingle{}}\NormalTok{] }\OperatorTok{=} \StringTok{\textquotesingle{}Cities\textquotesingle{}}

\CommentTok{\# Now we aggregate the data to the \textasciigrave{}space\textasciigrave{} variable}
\NormalTok{agg\_geo\_df }\OperatorTok{=}\NormalTok{ geo\_df.dissolve(by }\OperatorTok{=} \StringTok{\textquotesingle{}space\textquotesingle{}}\NormalTok{)}


\NormalTok{vas.models[}\VariableTok{None}\NormalTok{].plot\_map\_benchmark(intervention }\OperatorTok{=} \VariableTok{None}\NormalTok{, }
\NormalTok{time }\OperatorTok{=} \DecValTok{1}\NormalTok{, }
\NormalTok{optimum\_interest }\OperatorTok{=} \StringTok{\textquotesingle{}cb\textquotesingle{}}\NormalTok{,        }
\NormalTok{bench\_intervention }\OperatorTok{=} \StringTok{\textquotesingle{}oilvas\textquotesingle{}}\NormalTok{,}
\NormalTok{map\_df }\OperatorTok{=}\NormalTok{ agg\_geo\_df,}
\NormalTok{merge\_key }\OperatorTok{=} \StringTok{\textquotesingle{}space\textquotesingle{}}\NormalTok{,}
\NormalTok{intervention\_in\_title }\OperatorTok{=} \VariableTok{False}\NormalTok{,}
\NormalTok{intervention\_bubbles}\OperatorTok{=} \VariableTok{True}\NormalTok{,}
\NormalTok{intervention\_bubble\_names }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}oil\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}vas\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}cube\textquotesingle{}}\NormalTok{],}
\NormalTok{bau\_intervention\_bubble\_names }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}oil\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}vas\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}cube\textquotesingle{}}\NormalTok{],}
\NormalTok{save }\OperatorTok{=} \StringTok{\textquotesingle{}optimization\_work/demewoz\_lives\_saved/reports/multi\_mn\_plus\_lives\_saved/vas1.png\textquotesingle{}}\NormalTok{)}

\NormalTok{plt.gcf().text(}\FloatTok{0.5}\NormalTok{,}\OperatorTok{{-}}\FloatTok{.05}\NormalTok{, }\StringTok{\textquotesingle{}Note: Effective coverage (in millions)\textquotesingle{}}\NormalTok{, ha}\OperatorTok{=}\StringTok{\textquotesingle{}center\textquotesingle{}}\NormalTok{)}

\NormalTok{vas.models[}\VariableTok{None}\NormalTok{].plot\_map\_benchmark(intervention }\OperatorTok{=} \VariableTok{None}\NormalTok{, }
\NormalTok{time }\OperatorTok{=} \DecValTok{3}\NormalTok{, }
\NormalTok{optimum\_interest }\OperatorTok{=} \StringTok{\textquotesingle{}cb\textquotesingle{}}\NormalTok{, }
\NormalTok{bench\_intervention }\OperatorTok{=} \StringTok{\textquotesingle{}oilvas\textquotesingle{}}\NormalTok{,}
\NormalTok{map\_df }\OperatorTok{=}\NormalTok{ agg\_geo\_df,}
\NormalTok{merge\_key }\OperatorTok{=} \StringTok{\textquotesingle{}space\textquotesingle{}}\NormalTok{,}
\NormalTok{intervention\_in\_title }\OperatorTok{=} \VariableTok{False}\NormalTok{,}
\NormalTok{intervention\_bubbles}\OperatorTok{=} \VariableTok{True}\NormalTok{,}
\NormalTok{intervention\_bubble\_names }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}oil\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}vas\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}cube\textquotesingle{}}\NormalTok{],}
\NormalTok{bau\_intervention\_bubble\_names }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}oil\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}vas\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}cube\textquotesingle{}}\NormalTok{],}
\NormalTok{save }\OperatorTok{=} \StringTok{\textquotesingle{}optimization\_work/demewoz\_lives\_saved/reports/multi\_mn\_plus\_lives\_saved/vas3.png\textquotesingle{}}\NormalTok{)}

\NormalTok{plt.gcf().text(}\FloatTok{0.5}\NormalTok{,}\OperatorTok{{-}}\FloatTok{.05}\NormalTok{, }\StringTok{\textquotesingle{}Note: Effective coverage (in millions)\textquotesingle{}}\NormalTok{, ha}\OperatorTok{=}\StringTok{\textquotesingle{}center\textquotesingle{}}\NormalTok{)}

\NormalTok{vas.models[}\VariableTok{None}\NormalTok{].plot\_map\_benchmark(intervention }\OperatorTok{=} \VariableTok{None}\NormalTok{, }
\NormalTok{time }\OperatorTok{=} \DecValTok{10}\NormalTok{, }
\NormalTok{optimum\_interest }\OperatorTok{=} \StringTok{\textquotesingle{}cb\textquotesingle{}}\NormalTok{, }
\NormalTok{bench\_intervention }\OperatorTok{=} \StringTok{\textquotesingle{}oilvas\textquotesingle{}}\NormalTok{,}
\NormalTok{map\_df }\OperatorTok{=}\NormalTok{ agg\_geo\_df,}
\NormalTok{merge\_key }\OperatorTok{=} \StringTok{\textquotesingle{}space\textquotesingle{}}\NormalTok{,}
\NormalTok{intervention\_in\_title }\OperatorTok{=} \VariableTok{False}\NormalTok{,}
\NormalTok{intervention\_bubbles}\OperatorTok{=} \VariableTok{True}\NormalTok{,}
\NormalTok{intervention\_bubble\_names }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}oil\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}vas\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}cube\textquotesingle{}}\NormalTok{],}
\NormalTok{bau\_intervention\_bubble\_names }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}oil\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}vas\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}cube\textquotesingle{}}\NormalTok{],}
\NormalTok{save }\OperatorTok{=} \StringTok{\textquotesingle{}optimization\_work/demewoz\_lives\_saved/reports/multi\_mn\_plus\_lives\_saved/vas10.png\textquotesingle{}}\NormalTok{)}

\NormalTok{plt.gcf().text(}\FloatTok{0.5}\NormalTok{,}\OperatorTok{{-}}\FloatTok{.05}\NormalTok{, }\StringTok{\textquotesingle{}Note: Effective coverage (in millions)\textquotesingle{}}\NormalTok{, ha}\OperatorTok{=}\StringTok{\textquotesingle{}center\textquotesingle{}}\NormalTok{)}

\NormalTok{fig, (ax1, ax2)  }\OperatorTok{=}\NormalTok{ plt.subplots(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{, figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{10}\NormalTok{,}\DecValTok{6}\NormalTok{))}

\NormalTok{vas.models[}\VariableTok{None}\NormalTok{].plot\_bau\_time(}\StringTok{\textquotesingle{}b\textquotesingle{}}\NormalTok{, ax}\OperatorTok{=}\NormalTok{ax1)}
\NormalTok{vas.models[}\VariableTok{None}\NormalTok{].plot\_bau\_time(}\StringTok{\textquotesingle{}c\textquotesingle{}}\NormalTok{, ax}\OperatorTok{=}\NormalTok{ax2)}
\NormalTok{ax1.set\_ylabel(}\StringTok{"Millions Effectively Covered"}\NormalTok{)}
\NormalTok{ax2.set\_ylabel(}\StringTok{"USD (in millions)"}\NormalTok{)}

\NormalTok{plt.tight\_layout()}
\NormalTok{plt.savefig(}\StringTok{\textquotesingle{}optimization\_work/demewoz\_lives\_saved/reports/multi\_mn\_plus\_lives\_saved/vas\_b\_c.png\textquotesingle{}}\NormalTok{, dpi}\OperatorTok{=}\DecValTok{160}\NormalTok{, bbox\_inches}\OperatorTok{=}\StringTok{\textquotesingle{}tight\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
/home/lordflaron/Documents/minimod/minimod/utils/plotting.py:250: MatplotlibDeprecationWarning: The 's' parameter of annotate() has been renamed 'text' since Matplotlib 3.3; support for the old name will be dropped two minor releases later.
  df_bubble_final.apply(lambda x: ax.annotate(s = x.bubble_name,
/home/lordflaron/Documents/minimod/minimod/utils/plotting.py:250: MatplotlibDeprecationWarning: The 's' parameter of annotate() has been renamed 'text' since Matplotlib 3.3; support for the old name will be dropped two minor releases later.
  df_bubble_final.apply(lambda x: ax.annotate(s = x.bubble_name,
/home/lordflaron/Documents/minimod/minimod/utils/plotting.py:250: MatplotlibDeprecationWarning: The 's' parameter of annotate() has been renamed 'text' since Matplotlib 3.3; support for the old name will be dropped two minor releases later.
  df_bubble_final.apply(lambda x: ax.annotate(s = x.bubble_name,
/home/lordflaron/Documents/minimod/minimod/utils/plotting.py:250: MatplotlibDeprecationWarning: The 's' parameter of annotate() has been renamed 'text' since Matplotlib 3.3; support for the old name will be dropped two minor releases later.
  df_bubble_final.apply(lambda x: ax.annotate(s = x.bubble_name,
/home/lordflaron/Documents/minimod/minimod/utils/plotting.py:250: MatplotlibDeprecationWarning: The 's' parameter of annotate() has been renamed 'text' since Matplotlib 3.3; support for the old name will be dropped two minor releases later.
  df_bubble_final.apply(lambda x: ax.annotate(s = x.bubble_name,
/home/lordflaron/Documents/minimod/minimod/utils/plotting.py:250: MatplotlibDeprecationWarning: The 's' parameter of annotate() has been renamed 'text' since Matplotlib 3.3; support for the old name will be dropped two minor releases later.
  df_bubble_final.apply(lambda x: ax.annotate(s = x.bubble_name,
\end{verbatim}

\includegraphics{_codebraid/ce009dfeedd9e286/python3--006-01.png}

\includegraphics{_codebraid/ce009dfeedd9e286/python3--006-02.png}

\includegraphics{_codebraid/ce009dfeedd9e286/python3--006-03.png}

\includegraphics{_codebraid/ce009dfeedd9e286/python3--006-04.png}

For the Vitamin A simulations, we start with fortified oil (at 75\%
coverage), fortified cube and a VAS routine as can be seen in
+@fig:vas1. By Period 4 (in +@fig:vas3), the south and cities stop VAS
campaigns, but proceed with cube and oil interventions. This continues
until the last period. If we compare this to the BAU* scenario,
accumulated benefits have reached around the same levels in the South
and cities, but with higher benefits in the North.

\begin{figure}
\hypertarget{fig:vas1}{%
\centering
\includegraphics{vas1.png}
\caption{Vitamin A Accumulated Benefits, T=1}\label{fig:vas1}
}
\end{figure}

\begin{figure}
\hypertarget{fig:vas3}{%
\centering
\includegraphics{vas3.png}
\caption{Vitamin A Accumulated Benefits, T=3}\label{fig:vas3}
}
\end{figure}

\begin{figure}
\hypertarget{fig:vas10}{%
\centering
\includegraphics{vas10.png}
\caption{Vitamin A Accumulated Benefits, T=10}\label{fig:vas10}
}
\end{figure}

To illustrate the differences between benefits and costs between the
optimal and BAU* scenarios, we compare the two in +@fig:vas\_b\_c.

\begin{figure}
\hypertarget{fig:vas_b_c}{%
\centering
\includegraphics{vas_b_c.png}
\caption{Vitamin A Per-year Benefits and Costs across
Time}\label{fig:vas_b_c}
}
\end{figure}

\hypertarget{zinc}{%
\subsubsection{Zinc}\label{zinc}}

For zinc interventions, we see that zinc fortified flour is chosen,
which is the same as the BAU* scenario. This leads to the highest
benefits being in the cities, followed by the south and then the North.

\begin{figure}
\hypertarget{fig:zinc10}{%
\centering
\includegraphics{zinc10.png}
\caption{Zinc Accumulated Benefits, T=10}\label{fig:zinc10}
}
\end{figure}

\hypertarget{folic-acid}{%
\subsubsection{Folic Acid}\label{folic-acid}}

Folic Acid is the same as the zinc interventions, in that the BAU*
intervention is chosen as the optimal intervention. Cities are
disproportionately affected, compared to the South and the North.

\begin{figure}
\hypertarget{fig:fflour10}{%
\centering
\includegraphics{fflour10.png}
\caption{Folic Acid Accumulated Benefits, T=10}\label{fig:fflour10}
}
\end{figure}

\hypertarget{lives-saved}{%
\subsection{Lives Saved}\label{lives-saved}}

For Lives Saved, we find that the same intervention is chosen for all
periods everywhere leading to accumulated benefits that are more
proportionately distributed across the country, while the BAU* scenario
has higher benefits in the North.

\begin{figure}
\hypertarget{fig:ls10}{%
\centering
\includegraphics{ls10.png}
\caption{Lives Saved Accumulated Benefits, T=10}\label{fig:ls10}
}
\end{figure}

We also show the difference in per-year benefits and costs in
+@fig:ls\_b\_c.

\begin{figure}
\hypertarget{fig:ls_b_c}{%
\centering
\includegraphics{ls_b_c.png}
\caption{Lives Saved Per-Year Benefits and Costs}\label{fig:ls_b_c}
}
\end{figure}

\hypertarget{lives-saved-alternative-definition}{%
\subsubsection{Lives Saved Alternative
Definition}\label{lives-saved-alternative-definition}}

For the alternative definition of lives saved, we find that the same
interventions are chosen across the country, apart from VAS campaigns in
the north in periods 1-3 (+@fig:lshigh1). By period 4, we find that VAS
campaigns stop and for the rest of time, the same interventions are used
for all of the country. This leads to a similar geographic distribution
by the end (+@fig:lshigh10) as the other lives saved definition, but
with relatively higher benefits for the North.

\begin{figure}
\hypertarget{fig:lshigh1}{%
\centering
\includegraphics{lshigh1.png}
\caption{Lives Saved Alternative Specification Accumulated Benefits,
T=1}\label{fig:lshigh1}
}
\end{figure}

\begin{figure}
\hypertarget{fig:lshigh4}{%
\centering
\includegraphics{lshigh4.png}
\caption{Lives Saved Alternative Specification Accumulated Benefits,
T=4}\label{fig:lshigh4}
}
\end{figure}

\begin{figure}
\hypertarget{fig:lshigh10}{%
\centering
\includegraphics{lshigh10.png}
\caption{Lives Saved Alternative Specification Accumulated Benefits,
T=10}\label{fig:lshigh10}
}
\end{figure}

We also show the difference in per-year benefits and costs in
+@fig:lshigh\_b\_c.

\begin{figure}
\hypertarget{fig:lshigh_b_c}{%
\centering
\includegraphics{lshigh_b_c.png}
\caption{Lives Saved (Alt. Definition) Per-Year Benefits and
Costs}\label{fig:lshigh_b_c}
}
\end{figure}

\end{document}
